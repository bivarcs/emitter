/*! @bivarcs/emitter 0.0.7 | MIT | https://github.com/bivarcs/emitter */
var e,t;e=this,t=function(){"use strict";var i=Object.defineProperty,o=Object.defineProperties,n=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t=t||{})s.call(t,r)&&c(e,r,t[r]);if(f)for(var r of f(t))a.call(t,r)&&c(e,r,t[r]);return e};return class{constructor(e){this.Emitter$entries={},e&&e.on&&e.on.forEach(e=>{this.on(...e)})}on(t,r,e){var i=this.Emitter$entries;i[t]&&i[t].some(e=>t===e[0]&&r===e[1])||(i[t]||(i[t]=[]),i[t].push([t,r,u(u({},{once:!1,order:0}),e)]),i[t].sort((e,t)=>(e[2].order||0)-(t[2].order||0)))}off(e,t){var r=this.Emitter$entries;r[e]&&(r[e]=r[e].filter(e=>t!==e[1]))}emit(t,e){var r=this.Emitter$entries;e=u({},e&&"object"==typeof e&&!Array.isArray(e)?e:{data:e});let i=o(e,n({type:t,target:this}));return r[t]&&r[t].length&&r[t].forEach(e=>{e[1](i),e[2].once&&this.off(t,e[1])}),i}destroy(){this.Emitter$entries={}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Emitter=t();
